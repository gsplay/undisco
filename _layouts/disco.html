<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">

  <title>{{ page.title }} — {{ page.artist }} | undisco</title>

  <meta name="description" content="Un disco para escuchar completo: {{ page.title }} de {{ page.artist }} ({{ page.year }})." />
  <meta name="viewport" content="width=device-width, initial-scale=1">

 <!-- ===== Metadata para redes sociales ===== -->

<meta property="og:type" content="music.album">
<meta property="og:site_name" content="undisco.org">

<meta property="og:title"
      content="{{ page.title }} — {{ page.artist }}">

<meta property="og:description"
      content="Un disco para escuchar completo. {{ page.year }} · {{ page.genre }}">

<meta property="og:url"
      content="{{ site.url }}{{ site.baseurl }}{{ page.url }}">

{% if page.cover %}
<meta property="og:image"
      content="{{ site.url }}{{ site.baseurl }}{{ page.cover }}">
<meta property="og:image:alt"
      content="Portada de {{ page.title }} de {{ page.artist }}">
{% endif %}

<!-- ===== Twitter / X ===== -->

<!-- Twitter / X Cards -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="{{ page.title }} — {{ page.artist }}">
<meta name="twitter:description" content="Un disco al día para escuchar completo. Hoy: {{ page.title }} ({{ page.year }} · {{ page.genre }}).">
<meta name="twitter:image" content="{{ site.url }}{{ site.baseurl }}{{ page.cover }}">
<meta name="twitter:image:alt" content="Portada de {{ page.title }} de {{ page.artist }}">



  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg: #0e0e0e;
      --fg: #eaeaea;
      --muted: rgba(255,255,255,0.65);
      --border: rgba(255,255,255,0.35);
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      background: var(--bg);
      color: var(--fg);
      font-family: 'Montserrat', system-ui, sans-serif;
      min-height: 100vh;
    }

    main.disco-entry {
      min-height: 100vh;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .cover {
      width: 100%;
      display: flex;
      justify-content: center;
      margin-bottom: 16px;
      margin-top: -16px;
    }

    .cover img {
      width: 62%;
      max-width: 220px;
      border: 1px solid var(--border);
      padding: 6px;
      background: #000;
    }

    .content {
      width: 100%;
      max-width: 420px;
      text-align: center;
    }

    h1 {
      font-size: 1.75rem;
      font-weight: 500;
      margin-bottom: 6px;
    }

    .artist {
      font-size: 1.05rem;
      opacity: 0.85;
      margin-bottom: 6px;
    }

    .meta {
      font-size: 0.95rem;
      opacity: 0.65;
      margin-bottom: 20px;
    }

    .primary-actions {
      display: flex;
      justify-content: center;
      gap: 12px;
      margin-bottom: 20px;
    }

    .listen {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 14px 32px;
      border: 1px solid var(--fg);
      color: var(--fg);
      text-decoration: none;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      font-size: 0.8rem;
      transition: background 0.3s ease, color 0.3s ease;
    }

    .listen:hover {
      background: var(--fg);
      color: var(--bg);
    }

    .share {
      width: 52px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border: 1px solid var(--fg);
      transition: background 0.3s ease;
    }

    .share img {
      width: 18px;
      height: 18px;
      filter: invert(1);
    }

    .share:hover {
      background: rgba(255,255,255,0.1);
    }

    .secondary {
      font-size: 0.75rem;
      opacity: 0.5;
      margin-top: 8px;
    }

    .secondary a {
      color: inherit;
      text-decoration: none;
    }

    @media (min-width: 768px) {
      main.disco-entry {
        max-width: 1088px;
        margin: 0 auto;
        padding: 64px 32px;
        display: grid;
        grid-template-columns: 512px 512px;
        gap: 64px;
        align-items: center;
      }

      .cover {
        justify-content: flex-end;
        margin: 0;
      }

      .cover img {
        width: 100%;
        max-width: 512px;
      }

      .content {
        text-align: left;
      }

      h1 {
        font-size: 3.875rem;
        line-height: 1.1;
      }

      .artist {
        font-size: 1.5rem;
      }

      .meta {
        font-size: 1.2rem;
        margin-bottom: 28px;
      }

      .primary-actions {
        justify-content: flex-start;
      }

      .listen {
        padding: 12px 24px;
        font-size: 0.75rem;
      }

      .share {
        width: 44px;
      }

      .secondary {
        margin-top: 32px;
      }
    }
  </style>
</head>

<body>

<main class="disco-entry">

  {% if page.cover %}
  <div class="cover">
    <img src="{{ site.baseurl }}{{ page.cover }}" alt="Portada de {{ page.title }} de {{ page.artist }}">
  </div>
  {% endif %}

  <article class="content">
    <h1>{{ page.title }}</h1>
    <div class="artist">{{ page.artist }}</div>
    <div class="meta">{{ page.year }} · {{ page.genre }}</div>

    <div class="primary-actions">
      {% if page.listen %}
        <a href="{{ page.listen }}" class="listen" target="_blank" rel="noopener">Escuchar</a>
      {% endif %}

      <button class="share" id="shareBtn" aria-label="Compartir">
        <img src="{{ site.baseurl }}/assets/img/share.svg" alt="Compartir">
      </button>

    </div>

    <div class="secondary">
      <a href="{{ site.baseurl }}/">Home</a>
    </div>
  </article>

</main>
<script>
  const shareBtn = document.getElementById('shareBtn');

  if (shareBtn) {
    shareBtn.addEventListener('click', async () => {
      const shareData = {
        title: "{{ page.title }} — {{ page.artist }}",
        text: "Un disco para escuchar completo.",
        url: window.location.href
      };

      if (navigator.share) {
        try {
          await navigator.share(shareData);
        } catch (err) {
          // cancelado por el usuario, no hacemos nada
        }
      } else {
        // Fallback desktop: copiar link
        navigator.clipboard.writeText(window.location.href);
        alert("Link copiado al portapapeles");
      }
    });
  }
</script>

</body>
</html>
